
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Coding Honor</title>
  <meta name="author" content="武藏">

  
  <meta name="description" content="散列是一种用于以常数平均时间执行插入、删除和查找的技术，想必大家对此都非常的熟悉。但如果问每次插入、删除亦或是查找平均都需要几次探测时，不见得就有那么多人能迅速答出来了。本着Flaunt的目的，本文将会带领大家一探究竟。（这么简单的一句竟然两次目的得逞！星宿老仙，法力无边！） &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.codinghonor.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Coding Honor" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/jquery.min.js"></script>
  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> -->
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> -->
<!-- <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'> -->
<link href='/stylesheets/google-font.css' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript">
	MathJax.Hub.Config({
	    jax: ["input/TeX","output/HTML-CSS"],
	    displayAlign: "left"
	});
</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-51875143-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      // ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup align="left">
  <!-- <h1><a href="/">Coding Honor</a></h1> -->
  <a href="/" style="margin-right: 20px; float: left;"><img src="/images/codinghonor.png" alt="Coding Honor Logo" width="85", height="85"></a>
  <h1><a href="/">CODING HONOR</a></h1>
  
    <h2>programming and critical thinking</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.codinghonor.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archive">Archive</a></li>
  <li><a href="/category">Category</a></li>
  <li><a href="/people">People</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/07/09/detection-number-of-hashing/">散列的探测次数</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-09T00:31:20+08:00" pubdate data-updated="true">Jul 9<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>散列是一种用于以常数平均时间执行插入、删除和查找的技术，想必大家对此都非常的熟悉。但如果问每次插入、删除亦或是查找平均都需要几次探测时，不见得就有那么多人能迅速答出来了。本着Flaunt的目的，本文将会带领大家一探究竟。（这么简单的一句竟然两次目的得逞！星宿老仙，法力无边！）</p>

<p>理想的散列表数据结构只不过是一个包含有关键字的具有固定大小的数组，并将关键字从0映射到TableSize-1的数组空间中去。但有人的地方就有江湖，有数据的地方就会有冲突（我叫王家卫）。特别是当关键字数量无限数组空间大小已定时，冲突几乎是无法避免的。这时自然就需要一个专门处理冲突的大侠来主持公道了。</p>

<p>总的来看，这位大侠处理冲突一般有两种思路：</p>

<p>1.分离链接法：将所有散列到同一个值的元素保留到一个链表中，理论上可以插入任意多的元素。</p>

<p>2.开放定址法：冲突发生时，尝试选择另外的单元，直到找到为止。（大侠和的一手好稀泥！）</p>

<p><img src="/images/emoticon/ffwe.jpg"></p>

<p>直观上来看，两种散列在实现效率上必定有所差异。如何来量化这种差异，便要引入平均探测次数的概念了。这里我们以开放定址法为例进行讨论。在冲突函数的选择上，由于线性探测、平方探测或者双散列都不是本文的讨论重点，所以采用随机冲突解法（理论上最优）。另外数组中数据的多少明显也会影响到插入或者查找时所需探测的次数，所以还得引入装填因子λ的概念。我们定义散列表的装填因子λ为散列表中的元素个数与散列表大小的比值。</p>

<p>有了这些铺垫后便可以探讨随机冲突解决方式的平均探测次数了。假设有一个很大的表，并且每次探测都与前面的探测无关（其实就是想表达随机探测的意思），首先让我们来看看一次不成功查找的期望探测次数。由于空单元所占的份额为1-λ，因此我们预计要探测的单元数是1/(1-λ)。<strong>一次成功查找的探测次数等于该特定元素插入时所需要的探测次数。当一个元素被插入时，可以看成是一次不成功查找的结果。因此，我们可以使用一次不成功查找的开销来计算一次成功查找的平均开销。</strong></p>

<p>由于λ在0到当前值之间变化，早期的插入操作开销肯定较小，所以平均开销会相应有所降低，不是简单的1/(1-λ)。我们可以通过使用积分计算插入时间平均值的方法来估计平均值，最终可得：</p>

<p>$$ I(\lambda) = \frac{1}{\lambda} \int_0^\lambda \frac{1}{1-x} \mathrm{d}x = \frac{1}{\lambda} ln \frac{1}{1-\lambda} $$</p>


<p>明显小于前面的预计探测次数1/(1-λ)。根据公式，我们绘制曲线图比较了线性探测与随机冲突解决方法的性能优劣，如下图所示：</p>

<p><img src="/images/2014/detection_number_of_hashing.jpg"></p>

<p><strong>S为成功查找；U为不成功查找；而I为插入</strong></p>

<p><em>使用线性探测方法插入与不成功查找的期望探测次数为0.5*(1+1/(1-λ)<sup>2</sup>)，对于成功查找为0.5(1+1/(1-λ))，这里不做推导。</em></p>

<p>可以看出随机方法的成功查找平均探测次数显然优于线性探测方法（理论最优嘛！）。例如λ=0.5时，随机方法的成功查找平均需要1.39次探测，线性探测方法成功查找需要1.5次探测（插入需要2.5次探测）。如果λ大于0.75，线性探测所需的探测次数上升明显，已经非常不适合继续使用。这种情况下只能再散列或者使用可扩散列的办法解决散列表过满的问题。</p>

<p>打完收工！</p>

<p><em>所有内容均参考自《数据结构与算法分析 &ndash; C语言描述》</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/07/04/tyrant/">暴君</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-04T01:46:53+08:00" pubdate data-updated="true">Jul 4<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/2014/tyrant.jpg"></p>

<blockquote><p><em>《暴君》的创意是我见过的电视剧中最棒的一部,这部剧让我兴奋。 &mdash; 李安</em></p></blockquote>

<p>最近在看<a href="http://movie.douban.com/subject/22232279/" target="_blank">《暴君》</a>这部美剧，由《国土安全》制作人 Howard Gordon、Gideon Raff 及《迷失》制作人 Craig Wright 共同制作，讲述一个普通美国家庭被卷入中东国家暴乱的故事。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/24/binary-search/">二分查找</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-24T21:39:09+08:00" pubdate data-updated="true">Jun 24<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/2014/knuth.jpg"></p>

<p><strong>Donald Knuth</strong> &mdash; <em>a computer scientist</em></p>

<h2>逸闻趣事</h2>

<p>计算机领域内人才济济，各路神仙竞相释放大招。创世神们的事迹就不一一列举了，单是那一个个优美的小算法，在我眼中也是一件件上古奇兵。</p>

<p>对没错，前面这段是欲扬先抑。虽然领域内的能人堪比北京的处级干部般多如牛毛，但依旧阻挡不住下面这件令我震惊的事的发生：</p>

<blockquote><p><em>Donald Knuth在叙述查找算法的历史时指出，尽管第一篇有关二分查找（折半查找）算法的文章在1946年就发布了，可16年后才有人发表了（这是一个很好的限定）能正确查找各种规模的列表算法。</em></p></blockquote>

<p>诸位感受下，这16年来的计算机界（至少是学术界），竟然连个简单的折半查找都没正确的实现出来。这至少说明有相当一部分的从业人员算法基本功是不过关的。当然，你可以说这不重要。但我觉得算法便如武侠世界中的内功，练得好绝对对以后修炼各派神功大有裨益。</p>

<p>说起老爷子，还有一段逸闻趣事值分享。当年老爷子觉得现有的排版系统不好开始制造Tex时，第一版的源码老爷子是写在一个很厚的笔记本上的！请注意，这里是一个真正意义上的纸质笔记本。</p>

<blockquote><p><em>When I wrote TeX originally in 1977 and ’78, of course I didn’t have literate programming but I did have structured programming. I wrote it in a big notebook in longhand, in pencil.</em></p>

<p><em>Six months later, after I had gone through the whole project, I started typing into the computer. And did the debugging in March of ’78 while I had started writing the program in October of ’77. The code for that is in the Stanford archives—it’s all in pencil—and of course I would come back and change a subroutine as I learned what it should be.</em></p></blockquote>

<p>看到这里时我已热泪盈眶，这六个月高老爷子到底是如何组织自己的代码的，这才应该是真正意义上的最强大脑。当然也可以理解这是一种偏执，见仁见智罢了。有时候不去过分的迷信权威其实对于破立是非常有好处的（推荐阅读王垠的<a href="http://www.yinwang.org/blog-cn/2014/01/04/authority/" target="_blank">《我和权威的故事》</a>）。</p>

<h2>那些坑</h2>

<p>回到正题，接着说二分查找。究竟这里的二分查找难在什么地方，竟引得无数英雄折腰于此！我觉得这个问题至少存在以下3个坑（对那些基本功扎实的程序员来说：空中飘来五个字，这都不是事儿！）：</p>

<p><strong>1.中值的计算方式</strong></p>

<p>这里最容易忽略的就是溢出问题。如果我们理所应当的认为，中值应该这样计算：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">high</span> <span class="o">+</span> <span class="n">low</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>那么就肯定会被这种方式甩出一条街：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="p">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>当然，如果你用这种方式，那明显会更好一些：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="p">(</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>这里核心的问题就是在避免两数相加以后 int 溢出的问题，后面的两种方式就很好的避免了这种情况的发生。第三种方式因为采用了位运算，在速度上更优。当然，别习惯性的在这里 >>2 就可以了。</p>

<p><strong>2.选择区间是否对称</strong></p>

<p>这又是一个让很多人栽倒的地方，边界问题考虑稍微有点疏忽，很容易就会掉进坑里。假如我们这里选择定义一个闭区间的话，那应该这样写：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="n">low</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>相应的循环体应该是这样的：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">while</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;=</span> <span class="n">high</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// TODO</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>当然，这里你也可以写成一个半开半闭的区间：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="n">low</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>但对应的循环体就应该是这样的：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">while</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;</span> <span class="n">high</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// TODO</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>好多人在这里定义的时候想当然，没有仔细考虑边界，在循环条件是 &lt;= 还是 &lt; 的时候掉进了坑里。另外，如果这里采用指针的话，还存在另外一个问题，第一种闭区间的写法在计算 n-1 的时候容易指向一个无效地址：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">int</span> <span class="o">*</span><span class="n">low</span><span class="p">,</span> <span class="o">*</span><span class="n">high</span><span class="p">;</span>
</span><span class='line'><span class="n">low</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span><span class='line'><span class="n">high</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果这个时候 n 是 0 的话，那又会妥妥的掉坑里。不过，这种情况对于半开半闭区间不存在问题。</p>

<p><strong>3.重复元素的处理</strong></p>

<p>大部分人在这里理所当然的认为找到就应该直接跳出循环体，根本没有考虑到重复元素这种情况。如果要返回的是第一个元素的话，那么简单的跳出肯定有问题。</p>

<p>最终的实现如下：</p>

<figure class='code'><figcaption><span>Binary Search </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">int</span> <span class="nf">binarySearch</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">low</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">high</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
</span><span class='line'>  <span class="k">while</span> <span class="o">(</span><span class="n">low</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">high</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">low</span> <span class="o">+</span> <span class="o">((</span><span class="n">high</span> <span class="o">-</span> <span class="n">low</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">);</span>
</span><span class='line'>      <span class="k">if</span> <span class="o">(</span><span class="n">v</span> <span class="o">&gt;</span> <span class="n">a</span><span class="o">[</span><span class="n">mid</span><span class="o">])</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">low</span> <span class="o">=</span> <span class="n">mid</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">high</span> <span class="o">=</span> <span class="n">mid</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">high</span> <span class="o">&lt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="o">[</span><span class="n">high</span><span class="o">]</span> <span class="o">==</span> <span class="n">v</span> <span class="o">?</span> <span class="n">high</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>小结</h2>

<p>学习各种新的技术无疑对开阔眼界大有帮助，也可以让自己的工具盒里有着各式各样顺手的工具。但基础依旧是基础，经典依旧是经典。数据结构、算法、编译器、程序语言设计、操作系统等，对这些内容掌握的熟练程度，某种意义上决定了你在整个梯队中的位置。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/21/network-attacks/">Network Attacks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-21T01:00:00+08:00" pubdate data-updated="true">Jun 21<span>st</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Facebook being massive DDOS attack by China showed on Norse Attack Timeline</p>

<p><img src="/images/2014/network_attack.jpg"></p>

<p>This is the <a href="https://www.youtube.com/watch?v=efmJsENgG-o" target="_blank">video</a> on youtube.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/20/name-of-buddha/">如来之由来</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-20T23:11:31+08:00" pubdate data-updated="true">Jun 20<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>“阿耨楼陀，实相并不是文字言语或意念知识所能表达得到的。只有禅定所生的智慧，才可以使我们确认到实相的真绪。阿耨楼陀,你是没法用言语来表达芒果的真正味道，并让他知道是怎样的。我们只有从亲身的体验，才可以掌握到真相。这也是我时常劝比丘们不要在理论上浪费宝贵的时间，而应多实习彻观一切的原因。</p>

<p>“一切法的性体，都是‘如是’的，这是万法之妙性。莲花从‘如是’而生起，阿耨楼陀从‘如是’而起，乔达摩也从‘如是’而生。我们可以称所有从‘如是’生起者为‘如来’，一切法从‘如是’生起，又将回归何处？一切法都回归到‘如是’。归到‘如是’，也可称为‘如去’。其实，一切法都没从哪儿来或到哪儿去，因为它们的本性‘如是’。阿耨楼陀，‘如是’的更正确意思，应该是‘无从来者’和‘无所去者’。阿耨楼陀，从现在开始，我将叫自己‘如来’。我喜欢这名词，因为它可以避免因分别而生起的字眼儿，像‘我’或‘我的’。”</p>

<p>阿耨楼陀微笑说道：“我们都知道我们全都从‘如是’而生起，但我们会只让你专用‘如来’这个名号。每次当我们如此称呼你的时候，便会提醒我们所有众生都具有这无始无终的‘如来’本性。”</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/19/11-characteristics-of-high-quality-design/">高质量设计的十一个特征</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-19T18:24:13+08:00" pubdate data-updated="true">Jun 19<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>如果你是一个愿意雕琢自己代码的开发者，那么你肯定会在每次开发结束以后对其进行一定的总结。因为你知道，从中得出的经验教训将会对下次的开发工作有着非常好的指导意义。当然我也不例外，并时常自满于这四五年来的经验积累。但当这些非常自我的开发经验遇到《代码大全》作者总结的高质量设计特征时，在短暂的於我心有戚戚焉之后，我陷入了一种无奈——到底还有多少知识的宝藏藏匿于整个知识的疆界中，而我却茫然不知。</p>

<p>从自我批评的角度来看，类似的问题都可以简单的归结于读书不多不广。但客观上来讲，我们其实也可以为自己找一些借口。步入现代社会以后，人类知识积累的速度越来越快。随着知识的疆界变得越来越大，如果我们在知识获取方式上没有一次革新的话，总有一天我们会惊诧于目前获取及使用知识的效率是如此之低效。也许脑机接口将是一个解决该问题的突破口，不过在类似技术还没有成熟起来之前，一些朴素的刻苦读书的道理貌似是目前唯一的解决方案。</p>

<p>看来我也能写这种翻译腔十足、内容空洞无物以及面向程序员的小品文了（<a href="http://blog.jobbole.com/all-posts/" target="_blank">重灾区在这里</a>）。回到正题，实际上下面的关于高质量设计的11个特征应该是本文的重点（内容来自《代码大全》）：</p>

<ol>
<li><p><strong>最小的复杂度</strong>（Minimal complexity） 设计的首要目标就是要让复杂度最小。要避免做出“聪明的”设计，因为“聪明的”设计常常都是难以理解的。应该做出简单且易于理解的设计。如果你的设计方案不能让你在专注于程序的一部分时安心的忽视其他部分的话，这一设计就没有什么作用了。</p></li>
<li><p><strong>易于维护</strong>（Ease of maintenance） 易于维护意味着在设计时为做维护工作的程序员着想。请时刻想着这些维护程序员可能会就你写的代码而提出的问题。把这些程序员当成你的听众，进而设计出能自明的（self-explanatory）系统来。</p></li>
<li><p><strong>松散耦合</strong>（Loose coupling） 松散耦合意味着在设计时让程序的各个组成部分之间关联最小。通过应用类接口中的合理抽象、封装性及信息隐藏等原则，设计出相互关联尽可能最小的类。减少关联也就减少了集成、测试与维护的工作量。</p></li>
<li><p><strong>可扩展性</strong>（Extensibility） 可扩展性是说你能增强系统的功能而无须破坏其底层结构。你可以改动系统的某一部分而不会影响到其他部分。越是可能发生的改动，越不会给系统造成什么破坏。</p></li>
<li><p><strong>可重用性</strong>（Reusability） 可重用性意味着所设计的系统的组成部分能在其他系统中重复使用。</p></li>
<li><p><strong>高扇入</strong>（High fan-in） 高扇入就是说让大量的累使用某个给定的类。这意味着设计出的系统很好的利用了在较低层次上的工具类（utility classes）。</p></li>
<li><p><strong>低扇出</strong>（Low fan-out） 低扇出就是说让一个类里少量或适中的使用其他的类。高扇出（超过约7个）说明一个类使用了大量其他的类，因此可能变得过于复杂。研究发现，无论考虑某个子程序调用其他子程序的里量，还是考虑某个类使用其他类的量，低扇出的原则都是有益的（Card and Glass 1990; Basili, Briand, and Melo 1996）。</p></li>
<li><p><strong>可移植性</strong>（Portability） 可移植性是说应该这样设计系统，使它能很方便的移植到其他环境中。</p></li>
<li><p><strong>精简型</strong>（Leanness） 精简型意味着设计出的系统没有多余的部分（Wirth 1995, McConnnell 1997）。伏尔泰曾说，一本书的完成，不在它不能加入任何内容的时候，而在不能再删去任何内容的时候。在软件领域中，这一观点就更正确，因为任何多余的代码也需要开发、复审和测试，并且当修改了其他代码之后还需要重新考虑它们。软件的后续版本也要和这些多余代码保持向后兼容。要问这个关键的问题：“这虽然简单，但把它加进来之后会损害什么呢？”</p></li>
<li><p><strong>层次性</strong>（Stratification） 层次性意味着尽量保持系统各个分解层的层次性，使你能在任意的层面上观察系统，并得到某种具有一致性的看法。设计出来的系统应该能在任意层次上观察而不需要进入其他层次。</p></li>
<li><p><strong>标准技术</strong>（Standard techniques） 一个系统所依赖的外来的、古怪的东西越多，别人在第一次想要理解它的时候就越是头疼。要尽量用标准化的、常用的方法，让整个系统给人一种熟悉的感觉。</p></li>
</ol>


<p>放弃那些无聊又浪费时间的小品文吧，多读领域内的经典书籍，无论是技能还是逼格都会得到极大的提升。</p>

<p>最后列上自己最近在读的两本书。与君共勉！</p>

<p><a href="http://book.douban.com/subject/1477390/" target="_blank"><em>《代码大全》</em></a></p>

<p><a href="http://book.douban.com/subject/1139426/" target="_blank"><em>《数据结构与算法分析 &ndash; C语言描述》</em></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/18/2008-baccalaureate-service-by-drew-gilpin-faust/">2008 Baccalaureate Service by Drew Gilpin Faust</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-18T22:21:50+08:00" pubdate data-updated="true">Jun 18<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p><em>&ldquo;Life is long. There is always time for Plan B. But don’t begin with it.&rdquo;</em></p></blockquote>

<p>In the curious custom of this venerable institution, I find myself standing before you expected to impart words of lasting wisdom. Here I am in a pulpit, dressed like a Puritan minister — an apparition that would have horrified many of my distinguished forebears and perhaps rededicated some of them to the extirpation of witches. This moment would have propelled Increase and Cotton into a true “Mather lather.” But here I am and there you are and it is the moment of and for Veritas.</p>

<p>You have been undergraduates for four years. I have been president for not quite one. You have known three presidents; I one senior class. Where then lies the voice of experience? Maybe you should be offering the wisdom. Perhaps our roles could be reversed and I could, in Harvard Law School style, do cold calls for the next hour or so.</p>

<p>We all do seem to have made it to this point — more or less in one piece. Though I recently learned that we have not provided you with dinner since May 22. I know we need to wean you from Harvard in a figurative sense. I never knew we took it quite so literally.</p>

<p>But let’s return to that notion of cold calls for a moment. Let’s imagine this were a baccalaureate service in the form of Q &amp; A, and you were asking the questions. “What is the meaning of life, President Faust? What were these four years at Harvard for? President Faust, you must have learned something since you graduated from college exactly 40 years ago?” (Forty years. I’ll say it out loud since every detail of my life — and certainly the year of my Bryn Mawr degree — now seems to be publicly available. But please remember I was young for my class.)</p>

<p>In a way, you have been engaging me in this Q &amp; A for the past year. On just these questions, although you have phrased them a bit more narrowly. And I have been trying to figure out how I might answer and, perhaps more intriguingly, why you were asking.</p>

<p>Let me explain. It actually began when I met with the UC just after my appointment was announced in the winter of 2007. Then the questions continued when I had lunch at Kirkland House, dinner at Leverett, when I met with students in my office hours, even with some recent graduates I encountered abroad. The first thing you asked me about wasn’t the curriculum or advising or faculty contact or even student space. In fact, it wasn’t even alcohol policy. Instead, you repeatedly asked me: Why are so many of us going to Wall Street? Why are we going in such numbers from Harvard to finance, consulting, i-banking?</p>

<p>There are a number of ways to think about this question and how to answer it. There is the Willie Sutton approach. You may know that when he was asked why he robbed banks, he replied, “Because that’s where the money is.” Professors Claudia Goldin and Larry Katz, whom many of you have encountered in your economics concentration, offer a not dissimilar answer based on their study of student career choices since the seventies. They find it notable that, given the very high pecuniary rewards in finance, many students nonetheless still choose to do something else. Indeed, 37 of you have signed on with Teach for America; one of you will dance tango and work in dance therapy in Argentina; another will be engaged in agricultural development in Kenya; another, with an honors degree in math, will study poetry; another will train as a pilot with the USAF; another will work to combat breast cancer. Numbers of you will go to law school, medical school, and graduate school. But, consistent with the pattern Goldin and Katz have documented, a considerable number of you are selecting finance and consulting. The Crimson’s survey of last year’s class reported that 58 percent of men and 43 percent of women entering the workforce made this choice. This year, even in challenging economic times, the figure is 39 percent.</p>

<p>High salaries, the all but irresistible recruiting juggernaut, the reassurance for many of you that you will be in New York working and living and enjoying life alongside your friends, the promise of interesting work — there are lots of ways to explain these choices. For some of you, it is a commitment for only a year or two in any case. Others believe they will best be able to do good by first doing well. Yet, you ask me why you are following this path.</p>

<p>I find myself in some ways less interested in answering your question than in figuring out why you are posing it. If Professors Goldin and Katz have it right; if finance is indeed the “rational choice,” why do you keep raising this issue with me? Why does this seemingly rational choice strike a number of you as not understandable, as not entirely rational, as in some sense less a free choice than a compulsion or necessity? Why does this seem to be troubling so many of you?</p>

<p>You are asking me, I think, about the meaning of life, though you have posed your question in code — in terms of the observable and measurable phenomenon of senior career choice rather than the abstract, unfathomable and almost embarrassing realm of metaphysics. The Meaning of Life — capital M, capital L — is a cliché — easier to deal with as the ironic title of a Monty Python movie or the subject of a Simpsons episode than as a matter about which one would dare admit to harboring serious concern.</p>

<p>But let’s for a moment abandon our Harvard savoir faire, our imperturbability, our pretense of invulnerability, and try to find the beginnings of some answers to your question.</p>

<p>I think you are worried because you want your lives not just to be conventionally successful, but to be meaningful, and you are not sure how those two goals fit together. You are not sure if a generous starting salary at a prestigious brand name organization together with the promise of future wealth will feed your soul.</p>

<p>Why are you worried? Partly it is our fault. We have told you from the moment you arrived here that you will be the leaders responsible for the future, that you are the best and the brightest on whom we will all depend, that you will change the world. We have burdened you with no small expectations. And you have already done remarkable things to fulfill them: your dedication to service demonstrated in your extracurricular engagements, your concern about the future of the planet expressed in your vigorous championing of sustainability, your reinvigoration of American politics through engagement in this year’s presidential contests.</p>

<p>But many of you are now wondering how these commitments fit with a career choice. Is it necessary to decide between remunerative work and meaningful work? If it were to be either/or, which would you choose? Is there a way to have both?</p>

<p>You are asking me and yourselves fundamental questions about values, about trying to reconcile potentially competing goods, about recognizing that it may not be possible to have it all. You are at a moment of transition that requires making choices. And selecting one option — a job, a career, a graduate program — means not selecting others. Every decision means loss as well as gain — possibilities foregone as well as possibilities embraced. Your question to me is partly about that — about loss of roads not taken.</p>

<p>Finance, Wall Street, “recruiting” have become the symbol of this dilemma, representing a set of issues that is much broader and deeper than just one career path. These are issues that in one way or another will at some point face you all — as you graduate from medical school and choose a specialty — family practice or dermatology, as you decide whether to use your law degree to work for a corporate firm or as a public defender, as you decide whether to stay in teaching after your two years with TFA. You are worried because you want to have both a meaningful life and a successful one; you know you were educated to make a difference not just for yourself, for your own comfort and satisfaction, but for the world around you. And now you have to figure out the way to make that possible.</p>

<p>I think there is a second reason you are worried — related to but not entirely distinct from the first. You want to be happy. You have flocked to courses like “Positive Psychology” — Psych 1504 — and “The Science of Happiness” in search of tips. But how do we find happiness? I can offer one encouraging answer: get older. Turns out that survey data show older people — that is, my age — report themselves happier than do younger ones. But perhaps you don’t want to wait.</p>

<p>As I have listened to you talk about the choices ahead of you, I have heard you articulate your worries about the relationship of success and happiness — perhaps, more accurately, how to define success so that it yields and encompasses real happiness, not just money and prestige. The most remunerative choice, you fear, may not be the most meaningful and the most satisfying. But you wonder how you would ever survive as an artist or an actor or a public servant or a high school teacher? How would you ever figure out a path by which to make your way in journalism? Would you ever find a job as an English professor after you finished who knows how many years of graduate school and dissertation writing?</p>

<p>The answer is: you won’t know till you try. But if you don’t try to do what you love — whether it is painting or biology or finance; if you don’t pursue what you think will be most meaningful, you will regret it. Life is long. There is always time for Plan B. But don’t begin with it.</p>

<p>I think of this as my parking space theory of career choice, and I have been sharing it with students for decades. Don’t park 20 blocks from your destination because you think you’ll never find a space. Go where you want to be and then circle back to where you have to be.</p>

<p>You may love investment banking or finance or consulting. It might be just right for you. Or, you might be like the senior I met at lunch at Kirkland who had just returned from an interview on the West Coast with a prestigious consulting firm. “Why am I doing this?” she asked. “I hate flying, I hate hotels, I won’t like this job.” Find work you love. It is hard to be happy if you spend more than half your waking hours doing something you don’t.</p>

<p>But what is ultimately most important here is that you are asking the question — not just of me but of yourselves. You are choosing roads and at the same time challenging your own choices. You have a notion of what you want your life to be and you are not sure the road you are taking is going to get you there. This is the best news. And it is also, I hope, to some degree, our fault. Noticing your life, reflecting upon it, considering how you can live it well, wondering how you can do good: These are perhaps the most valuable things that a liberal arts education has equipped you to do. A liberal education demands that you live self-consciously. It prepares you to seek and define the meaning inherent in all you do. It has made you an analyst and critic of yourself, a person in this way supremely equipped to take charge of your life and how it unfolds. It is in this sense that the liberal arts are liberal — as in liberare — to free. They empower you with the possibility of exercising agency, of discovering meaning, of making choices. The surest way to have a meaningful, happy life is to commit yourself to striving for it. Don’t settle. Be prepared to change routes. Remember the impossible expectations we have of you, and even as you recognize they are impossible, remember how important they are as a lodestar guiding you toward something that matters to you and to the world. The meaning of your life is for you to make.</p>

<p>I can’t wait to see how you all turn out. Do come back, from time to time, and let us know.</p>

<p><em>&ndash; Drew Gilpin Faust</em></p>

<p><em>Original link:</em> <a href="http://www.harvard.edu/president/speech/2008/2008-baccalaureate-service" target="_blank"><em>2008 Baccalaureate Service</em></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/14/godzilla/">Godzilla</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-14T22:57:23+08:00" pubdate data-updated="true">Jun 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/2014/godzilla.jpg"></p>

<p>影片的副标题应该叫：大哥（Godzilla）从良记。前方高能预警，没看的建议还是先去看电影吧。</p>

<p>剧情实在让人难以接受，这大哥绝对是奥特曼变的。剧中打完Muto，心想你们这些看热闹的愚蠢的人类该傻眼了吧，看我大哥分分钟钟秒了你们。万万没想到，我们的大哥就这么挥一挥衣袖的走了，入水姿势还挺华丽。请冷静的告诉我，这不是奥特曼这又是什么？！追了小半个地球，我们的大哥竟然就是为了打断一对苦命鸳鸯的激情一夜。另外，那个舌吻是什么意思，Muto拿着核弹往生殖器那里蹭这段又是个什么意思？</p>

<p>日本博士千叮咛万嘱咐说别用核弹让自然来做制衡，结果被我们将军毅然决然的拒绝了，毕竟以前用的是鞭炮嘛。可既然是用来做诱饵的，那至少也得保证诱饵没有那么容易就被拿去蹭自己吧。然后，现实立马就给了将军重重一击。这个时候将军猛然发现，完了完了炸弹还没关呢。本是为了引诱Muto出来解救市民，现在很可能市民会死于友军火力。哎，人类在这场神级别的怪兽斗争中果然是用来搞笑的。</p>

<p>算了，还是得说说本片优秀的地方吧，也不能老盯着槽点不放。</p>

<p>首先效果非常棒，我去UME看的，大哥嘶吼的场景确实震慑人心。影片一反以往怪兽神龙见首不见尾的习惯，让观众清晰的看到了神级怪兽的全貌，在我看来这也算是一种突破。Godzilla这部电影代表了一代人的回忆，相比Pacific Rim中的怪兽（虽然这是部机甲片），Godzilla明显抢眼多了。我小的时候看过前一个版本的Godzilla，在那个年代，看到这么大的一个怪兽就横空出现，那种震撼大人也觉得非凡更何况幼小的我。所以导演在大哥形象的改善上可能是有意为之，不再是单纯的破坏者，而变成了拯救者。片中也有暗示，称大哥为城市保卫者。看到这里，你还会对大哥只是单纯的觉得恐怖吗，难道没有感觉到略微变得可爱起来的转变吗？</p>

<p>另外人类战士背负使命跳入炼狱般的格斗现场，这场戏真的很好的营造了悲壮感。在明知极其危险且没有B计划的情况下，战士们毅然选择奔赴前方，他们是人类的英雄。文章前面所引用的海报就由这个场景而来，一道道划破天际的红线我觉得挺美的。</p>

<p>总体而言剧情虽然较弱，电影总体评分可能也不会太高，但是依旧值得一看。没看演员阵容，老白一出场那会儿真是颇感意外。不过毒师这次是单独行动，也不知道小粉最近在忙啥。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/06/14/spains-first-match/">Spain&#8217;s First Match of 2014 World Cup</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-14T15:55:02+08:00" pubdate data-updated="true">Jun 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/2014/casillas.jpg"></p>

<p><em>I didn&rsquo;t do things like I should have, especially to start a World Cup. &ndash; Casillas</em></p>

<p><em>When a team loses a match it&rsquo;s not just the performance of one single player, its a weakness in the total squad. &ndash; De Bosque</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/05/20/john-carmack/">John Carmack Said</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-20T18:57:39+08:00" pubdate data-updated="true">May 20<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p><em>Focused, hard work is the real key to success. Keep your eyes on the goal, and just keep taking the next step towards completing it. If you aren&rsquo;t sure which way to do something, do it both ways and see which works better.</em></p></blockquote>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/2/">&larr; Older</a>
    
    <a href="/archive">Blog Archive</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/07/09/detection-number-of-hashing/">散列的探测次数</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/04/tyrant/">暴君</a>
      </li>
    
      <li class="post">
        <a href="/2014/06/24/binary-search/">二分查找</a>
      </li>
    
      <li class="post">
        <a href="/2014/06/21/network-attacks/">Network Attacks</a>
      </li>
    
      <li class="post">
        <a href="/2014/06/20/name-of-buddha/">如来之由来</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - 武藏 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/lucaslew/whitespace">Whitespace</a></span>
</p>

</footer>
  














</body>
</html>
